---
id: AC-TSK-001
uuid: ac-tsk-001-20250113
title: Task Manager Test Plan (할일 관리 테스트 계획)
module: task_manager
type: acceptance_criteria
related_requirements: [FR-TSK-001]
priority: Critical
created_date: 2025-01-13
status: active
---

# Task Manager Test Plan (할일 관리 테스트 계획)

## 개요

Task Manager 앱의 포괄적인 acceptance criteria 및 테스트 시나리오 문서입니다.
모든 핵심 기능에 대한 검증 가능한 테스트 케이스를 정의합니다.

**테스트 커버리지 목표**:
- Unit Tests: 70%
- Integration Tests: 20%
- E2E Tests: 10%

**테스트 우선순위 정의**:
- P0 (Critical): 핵심 비즈니스 기능, 데이터 무결성
- P1 (High): 중요한 사용자 상호작용, 검증 로직
- P2 (Medium): 부가 기능, UI 개선 사항

---

## 1. 할일 생성 테스트

### AC-TSK-001-01: 유효한 제목으로 할일 생성 성공
**Priority**: P0 (Critical)

**Given**:
- 사용자가 Task Manager 앱을 실행
- 빈 할일 목록 상태

**When**:
- "Add Task" 버튼 클릭
- 제목 입력: "회의 자료 준비"
- "Create" 버튼 클릭

**Then**:
- 새 할일이 목록 상단에 추가됨
- 할일 제목이 "회의 자료 준비"로 표시됨
- 완료 상태가 `false` (미완료)
- 생성 시각이 현재 시간으로 기록됨
- 고유한 UUID가 자동 생성됨

**Test Data**:
```json
{
  "input": {
    "title": "회의 자료 준비",
    "due_date": null,
    "priority": "medium"
  },
  "expected_output": {
    "id": "<auto-generated-uuid>",
    "title": "회의 자료 준비",
    "completed": false,
    "created_at": "<current_timestamp>",
    "priority": "medium"
  }
}
```

**Verification**:
- [ ] 할일 목록에 1개 항목 존재
- [ ] 제목이 정확히 표시됨
- [ ] JSON 파일에 데이터 저장됨

---

### AC-TSK-001-02: 빈 제목으로 할일 생성 시 에러
**Priority**: P1 (High)

**Given**:
- 할일 생성 다이얼로그 열림

**When**:
- 제목 필드를 비움 (또는 공백만 입력)
- "Create" 버튼 클릭

**Then**:
- 에러 메시지 표시: "제목은 필수 입력 항목입니다"
- 다이얼로그가 닫히지 않음
- 할일이 생성되지 않음
- 제목 입력 필드에 포커스 유지

**Test Data**:
```json
{
  "test_cases": [
    {"title": "", "should_fail": true},
    {"title": "   ", "should_fail": true},
    {"title": "\t\n", "should_fail": true}
  ]
}
```

**Verification**:
- [ ] 에러 메시지 표시됨
- [ ] 할일 목록 변경 없음
- [ ] 입력 필드가 에러 상태로 표시됨 (빨간 테두리)

---

### AC-TSK-001-03: 200자 초과 제목 입력 시 에러
**Priority**: P1 (High)

**Given**:
- 할일 생성 다이얼로그 열림

**When**:
- 200자를 초과하는 제목 입력
- "Create" 버튼 클릭

**Then**:
- 에러 메시지 표시: "제목은 200자 이하로 입력해주세요 (현재: {count}자)"
- 다이얼로그가 닫히지 않음
- 할일이 생성되지 않음

**Test Data**:
```json
{
  "input": {
    "title": "A".repeat(201),
    "expected_error": "제목은 200자 이하로 입력해주세요"
  },
  "edge_cases": [
    {"length": 200, "should_pass": true},
    {"length": 201, "should_pass": false}
  ]
}
```

**Verification**:
- [ ] 200자 제목은 허용됨
- [ ] 201자 제목은 거부됨
- [ ] 현재 글자 수 표시됨

---

### AC-TSK-001-04: 마감일 없이 할일 생성 가능
**Priority**: P2 (Medium)

**Given**:
- 할일 생성 다이얼로그 열림

**When**:
- 제목만 입력: "프로젝트 리뷰"
- 마감일 필드를 비워둠
- "Create" 버튼 클릭

**Then**:
- 할일이 성공적으로 생성됨
- `due_date` 필드가 `null`로 저장됨
- 목록에서 마감일이 "없음" 또는 빈 상태로 표시됨

**Test Data**:
```json
{
  "input": {
    "title": "프로젝트 리뷰",
    "due_date": null
  },
  "expected_output": {
    "title": "프로젝트 리뷰",
    "due_date": null,
    "completed": false
  }
}
```

**Verification**:
- [ ] 할일 생성 성공
- [ ] due_date가 null로 저장
- [ ] UI에 마감일 표시 안 됨

---

### AC-TSK-001-05: 과거 마감일 입력 시 경고
**Priority**: P1 (High)

**Given**:
- 할일 생성 다이얼로그 열림
- 현재 날짜: 2025-01-13

**When**:
- 제목 입력: "보고서 제출"
- 마감일 선택: 2025-01-10 (과거 날짜)
- "Create" 버튼 클릭

**Then**:
- 경고 메시지 표시: "마감일이 이미 지났습니다. 계속하시겠습니까?"
- 사용자가 "확인" 선택 시 생성 진행
- 사용자가 "취소" 선택 시 다이얼로그 유지

**Test Data**:
```json
{
  "current_date": "2025-01-13",
  "test_cases": [
    {
      "due_date": "2025-01-10",
      "should_warn": true,
      "can_create": true
    },
    {
      "due_date": "2025-01-15",
      "should_warn": false,
      "can_create": true
    }
  ]
}
```

**Verification**:
- [ ] 과거 날짜 입력 시 경고 표시
- [ ] 확인 후 생성 가능
- [ ] 미래 날짜는 경고 없음

---

## 2. 할일 수정 테스트

### AC-TSK-001-06: 기존 할일 제목 수정 성공
**Priority**: P1 (High)

**Given**:
- 할일 목록에 "회의 준비" 항목 존재 (id: task-001)

**When**:
- "회의 준비" 항목 더블클릭
- 수정 다이얼로그에서 제목을 "회의 자료 준비 및 검토"로 변경
- "Save" 버튼 클릭

**Then**:
- 목록에서 제목이 "회의 자료 준비 및 검토"로 업데이트됨
- `updated_at` 필드가 현재 시간으로 갱신됨
- 다른 속성(completed, created_at 등)은 유지됨

**Test Data**:
```json
{
  "before": {
    "id": "task-001",
    "title": "회의 준비",
    "completed": false,
    "created_at": "2025-01-13T10:00:00"
  },
  "after": {
    "id": "task-001",
    "title": "회의 자료 준비 및 검토",
    "completed": false,
    "created_at": "2025-01-13T10:00:00",
    "updated_at": "<current_timestamp>"
  }
}
```

**Verification**:
- [ ] 제목 변경 반영됨
- [ ] updated_at 타임스탬프 갱신
- [ ] ID 및 생성일 유지

---

### AC-TSK-001-07: 우선순위 변경 즉시 반영
**Priority**: P1 (High)

**Given**:
- 할일 "보고서 작성" 존재 (priority: medium)

**When**:
- 수정 다이얼로그에서 우선순위를 "high"로 변경
- "Save" 버튼 클릭

**Then**:
- 목록에서 해당 할일의 우선순위 아이콘/색상 변경됨
- High 우선순위는 빨간색 아이콘으로 표시
- 목록이 우선순위 순으로 재정렬됨 (high → medium → low)

**Test Data**:
```json
{
  "input": {
    "task_id": "task-002",
    "new_priority": "high"
  },
  "expected_output": {
    "priority": "high",
    "visual_indicator": "red icon",
    "sort_order": 1
  }
}
```

**Verification**:
- [ ] 우선순위 변경 저장
- [ ] UI에 색상 반영
- [ ] 목록 재정렬

---

### AC-TSK-001-08: 마감일 추가/제거 가능
**Priority**: P2 (Medium)

**Given**:
- 할일 "리서치" 존재 (due_date: null)

**When**:
1. 수정 다이얼로그에서 마감일을 "2025-01-20"으로 설정
2. 저장 후 다시 수정하여 마감일을 제거

**Then**:
- 첫 번째 저장 후: due_date가 "2025-01-20"으로 표시
- 두 번째 저장 후: due_date가 다시 null로 변경
- 두 시점 모두 updated_at 갱신됨

**Test Data**:
```json
{
  "steps": [
    {
      "action": "add_due_date",
      "input": {"due_date": "2025-01-20"},
      "expected": {"due_date": "2025-01-20"}
    },
    {
      "action": "remove_due_date",
      "input": {"due_date": null},
      "expected": {"due_date": null}
    }
  ]
}
```

**Verification**:
- [ ] 마감일 추가 성공
- [ ] 마감일 제거 성공
- [ ] 양방향 변경 모두 동작

---

## 3. 할일 삭제 테스트

### AC-TSK-001-09: 삭제 전 확인 다이얼로그 표시
**Priority**: P0 (Critical)

**Given**:
- 할일 "테스트 작성" 존재 (id: task-003)

**When**:
- 우클릭 메뉴에서 "Delete" 선택

**Then**:
- 확인 다이얼로그 표시:
  - 제목: "할일 삭제"
  - 메시지: "'테스트 작성' 항목을 삭제하시겠습니까?"
  - 버튼: [취소] [삭제]
- 다이얼로그가 표시되는 동안 할일은 삭제되지 않음

**Test Data**:
```json
{
  "task": {
    "id": "task-003",
    "title": "테스트 작성"
  },
  "dialog": {
    "title": "할일 삭제",
    "message": "'테스트 작성' 항목을 삭제하시겠습니까?",
    "buttons": ["취소", "삭제"]
  }
}
```

**Verification**:
- [ ] 다이얼로그 표시됨
- [ ] 할일 제목 포함된 메시지
- [ ] 즉시 삭제되지 않음

---

### AC-TSK-001-10: 삭제 확인 시 목록에서 제거
**Priority**: P0 (Critical)

**Given**:
- 할일 3개 존재: task-001, task-002, task-003
- 삭제 확인 다이얼로그 표시 중 (task-002 삭제 요청)

**When**:
- "삭제" 버튼 클릭

**Then**:
- task-002가 목록에서 제거됨
- 남은 할일: task-001, task-003
- JSON 파일에서도 task-002 데이터 삭제됨
- 다이얼로그가 닫힘

**Test Data**:
```json
{
  "before": {
    "tasks": ["task-001", "task-002", "task-003"],
    "count": 3
  },
  "after": {
    "tasks": ["task-001", "task-003"],
    "count": 2,
    "deleted": "task-002"
  }
}
```

**Verification**:
- [ ] 목록에서 할일 제거
- [ ] JSON 파일 업데이트
- [ ] 다른 할일은 유지

---

### AC-TSK-001-11: 삭제 취소 시 목록 유지
**Priority**: P1 (High)

**Given**:
- 할일 "문서 작성" 존재
- 삭제 확인 다이얼로그 표시 중

**When**:
- "취소" 버튼 클릭

**Then**:
- 다이얼로그가 닫힘
- 할일 "문서 작성"이 목록에 그대로 유지됨
- 어떠한 데이터 변경도 발생하지 않음

**Test Data**:
```json
{
  "task": {
    "id": "task-004",
    "title": "문서 작성"
  },
  "action": "cancel",
  "expected": {
    "task_exists": true,
    "data_changed": false
  }
}
```

**Verification**:
- [ ] 다이얼로그 닫힘
- [ ] 할일 유지됨
- [ ] 데이터 변경 없음

---

## 4. 완료 상태 테스트

### AC-TSK-001-12: 체크박스 클릭 시 상태 토글
**Priority**: P0 (Critical)

**Given**:
- 할일 "코드 리뷰" 존재 (completed: false)

**When**:
- 체크박스 클릭 (1회)

**Then**:
- `completed` 상태가 `true`로 변경
- 체크박스에 체크 표시됨
- `completed_at` 타임스탬프 기록됨

**When**:
- 체크박스 다시 클릭 (2회)

**Then**:
- `completed` 상태가 `false`로 복원
- 체크박스 체크 해제됨
- `completed_at` 필드가 `null`로 변경

**Test Data**:
```json
{
  "initial_state": {
    "completed": false,
    "completed_at": null
  },
  "after_check": {
    "completed": true,
    "completed_at": "<current_timestamp>"
  },
  "after_uncheck": {
    "completed": false,
    "completed_at": null
  }
}
```

**Verification**:
- [ ] 체크 시 completed=true
- [ ] 언체크 시 completed=false
- [ ] completed_at 타임스탬프 관리
- [ ] 양방향 토글 동작

---

### AC-TSK-001-13: 완료 항목 스타일 변경
**Priority**: P1 (High)

**Given**:
- 할일 "배포" 존재 (completed: false)

**When**:
- 체크박스 클릭하여 완료 처리

**Then**:
- 할일 제목에 취소선 적용됨
- 텍스트 색상이 회색으로 변경됨 (opacity: 0.6)
- 우선순위 아이콘도 회색으로 변경됨

**Test Data**:
```json
{
  "css_changes": {
    "text-decoration": "line-through",
    "color": "#888888",
    "opacity": 0.6
  }
}
```

**Verification**:
- [ ] 취소선 표시
- [ ] 회색 텍스트
- [ ] 시각적 구분 명확

---

### AC-TSK-001-14: 필터링 후 완료 항목만 표시
**Priority**: P2 (Medium)

**Given**:
- 할일 5개 존재 (완료: 2개, 미완료: 3개)

**When**:
- 필터 드롭다운에서 "Completed" 선택

**Then**:
- 완료된 2개 항목만 목록에 표시됨
- 미완료 항목은 숨겨짐
- 필터 상태가 UI에 표시됨 (예: "Showing 2 of 5 tasks")

**Test Data**:
```json
{
  "tasks": [
    {"id": "task-001", "completed": true},
    {"id": "task-002", "completed": false},
    {"id": "task-003", "completed": true},
    {"id": "task-004", "completed": false},
    {"id": "task-005", "completed": false}
  ],
  "filter": "completed",
  "expected_visible": ["task-001", "task-003"],
  "expected_count": "Showing 2 of 5 tasks"
}
```

**Verification**:
- [ ] 완료 항목만 표시
- [ ] 필터 상태 표시
- [ ] 카운트 정확성

---

## 5. 데이터 영속성 테스트

### AC-TSK-001-15: 앱 재시작 후 데이터 복원
**Priority**: P0 (Critical)

**Given**:
- 할일 3개 생성 및 저장됨
- JSON 파일에 데이터 존재: `~/.task_manager/tasks.json`

**When**:
1. 앱 종료
2. 앱 재시작

**Then**:
- 이전에 저장된 3개 할일이 모두 복원됨
- 제목, 완료 상태, 마감일, 우선순위 모두 유지됨
- 정렬 순서도 유지됨

**Test Data**:
```json
{
  "saved_file": "~/.task_manager/tasks.json",
  "tasks": [
    {
      "id": "task-001",
      "title": "회의 준비",
      "completed": false,
      "priority": "high"
    },
    {
      "id": "task-002",
      "title": "보고서 제출",
      "completed": true,
      "priority": "medium"
    },
    {
      "id": "task-003",
      "title": "코드 리뷰",
      "completed": false,
      "priority": "low"
    }
  ]
}
```

**Verification**:
- [ ] 모든 할일 복원
- [ ] 속성 정확성
- [ ] 정렬 순서 유지

---

### AC-TSK-001-16: 자동 저장 동작 확인
**Priority**: P0 (Critical)

**Given**:
- 앱이 실행 중

**When**:
- 할일 생성, 수정, 삭제, 완료 처리 등 모든 변경 작업 수행

**Then**:
- 각 작업 후 즉시 JSON 파일에 자동 저장됨
- 별도의 "Save" 버튼 클릭 불필요
- 파일 쓰기 실패 시 에러 알림 표시

**Test Data**:
```json
{
  "operations": [
    {"action": "create", "auto_save": true},
    {"action": "update", "auto_save": true},
    {"action": "delete", "auto_save": true},
    {"action": "toggle_complete", "auto_save": true}
  ],
  "save_path": "~/.task_manager/tasks.json"
}
```

**Verification**:
- [ ] 생성 후 자동 저장
- [ ] 수정 후 자동 저장
- [ ] 삭제 후 자동 저장
- [ ] 완료 토글 후 자동 저장

---

### AC-TSK-001-17: JSON 손상 시 백업 복구
**Priority**: P1 (High)

**Given**:
- JSON 파일이 손상됨 (invalid JSON syntax)
- 백업 파일 존재: `tasks.json.backup`

**When**:
- 앱 시작 시 JSON 파일 로드 시도

**Then**:
- JSON 파싱 에러 감지
- 백업 파일에서 데이터 복구 시도
- 복구 성공 시: 백업 데이터로 앱 시작, 에러 로그 기록
- 복구 실패 시: 빈 목록으로 시작, 에러 다이얼로그 표시

**Test Data**:
```json
{
  "corrupted_file": "tasks.json (invalid syntax)",
  "backup_file": "tasks.json.backup (valid)",
  "recovery_steps": [
    "Detect JSON parse error",
    "Check backup file existence",
    "Load backup data",
    "Log error to file",
    "Display warning to user"
  ]
}
```

**Verification**:
- [ ] 손상 감지
- [ ] 백업 파일 로드
- [ ] 에러 로그 기록
- [ ] 사용자 알림

---

## 6. UI 상호작용 테스트

### AC-TSK-001-18: 더블클릭 시 수정 다이얼로그
**Priority**: P1 (High)

**Given**:
- 할일 목록에 "프로젝트 계획" 항목 존재

**When**:
- "프로젝트 계획" 항목을 더블클릭

**Then**:
- 수정 다이얼로그가 열림
- 다이얼로그에 현재 할일 정보가 미리 채워짐:
  - 제목 필드: "프로젝트 계획"
  - 완료 체크박스: 현재 상태 반영
  - 마감일: 현재 설정된 날짜
  - 우선순위: 현재 우선순위
- 제목 필드에 포커스 설정됨

**Test Data**:
```json
{
  "task": {
    "id": "task-007",
    "title": "프로젝트 계획",
    "completed": false,
    "due_date": "2025-01-20",
    "priority": "high"
  },
  "dialog_state": {
    "title_field": "프로젝트 계획",
    "completed_checkbox": false,
    "due_date_field": "2025-01-20",
    "priority_dropdown": "high",
    "focused_field": "title"
  }
}
```

**Verification**:
- [ ] 더블클릭 감지
- [ ] 다이얼로그 열림
- [ ] 현재 데이터 표시
- [ ] 포커스 설정

---

### AC-TSK-001-19: 우클릭 메뉴 표시
**Priority**: P2 (Medium)

**Given**:
- 할일 "이메일 확인" 항목 존재

**When**:
- "이메일 확인" 항목 위에서 우클릭

**Then**:
- 컨텍스트 메뉴가 표시됨
- 메뉴 항목:
  1. "Edit" (수정)
  2. "Delete" (삭제)
  3. "Duplicate" (복제)
  4. ---
  5. "Mark as Complete" 또는 "Mark as Incomplete" (상태에 따라)
- 메뉴는 마우스 커서 위치에 표시됨

**Test Data**:
```json
{
  "menu_items": [
    {"label": "Edit", "action": "open_edit_dialog"},
    {"label": "Delete", "action": "confirm_delete"},
    {"label": "Duplicate", "action": "duplicate_task"},
    {"type": "separator"},
    {"label": "Mark as Complete", "action": "toggle_complete"}
  ],
  "position": "cursor_position"
}
```

**Verification**:
- [ ] 우클릭 감지
- [ ] 메뉴 표시
- [ ] 모든 메뉴 항목 존재
- [ ] 완료 상태에 따른 라벨 변경

---

### AC-TSK-001-20: 필터 변경 시 목록 업데이트
**Priority**: P2 (Medium)

**Given**:
- 할일 10개 존재 (완료: 4개, 미완료: 6개)

**When**:
- 필터를 "All" → "Active" → "Completed" 순으로 변경

**Then**:
1. "All" 선택 시: 10개 항목 모두 표시
2. "Active" 선택 시: 6개 미완료 항목만 표시
3. "Completed" 선택 시: 4개 완료 항목만 표시
- 각 필터 변경 시 목록이 즉시 업데이트됨
- 애니메이션 효과 적용 (fade in/out)

**Test Data**:
```json
{
  "tasks": {
    "total": 10,
    "active": 6,
    "completed": 4
  },
  "filters": [
    {"name": "All", "visible_count": 10},
    {"name": "Active", "visible_count": 6},
    {"name": "Completed", "visible_count": 4}
  ],
  "animation": {
    "type": "fade",
    "duration": "200ms"
  }
}
```

**Verification**:
- [ ] All 필터: 전체 표시
- [ ] Active 필터: 미완료만
- [ ] Completed 필터: 완료만
- [ ] 즉시 업데이트
- [ ] 애니메이션 적용

---

## 7. 테스트 트레이서빌리티 매트릭스

| Test ID | Requirement | Test Type | Priority | Status |
|---------|-------------|-----------|----------|--------|
| AC-TSK-001-01 | FR-TSK-001 | Unit | P0 | ⏳ Pending |
| AC-TSK-001-02 | FR-TSK-001 | Unit | P1 | ⏳ Pending |
| AC-TSK-001-03 | FR-TSK-001 | Unit | P1 | ⏳ Pending |
| AC-TSK-001-04 | FR-TSK-001 | Unit | P2 | ⏳ Pending |
| AC-TSK-001-05 | FR-TSK-001 | Unit | P1 | ⏳ Pending |
| AC-TSK-001-06 | FR-TSK-001 | Integration | P1 | ⏳ Pending |
| AC-TSK-001-07 | FR-TSK-001 | Integration | P1 | ⏳ Pending |
| AC-TSK-001-08 | FR-TSK-001 | Integration | P2 | ⏳ Pending |
| AC-TSK-001-09 | FR-TSK-001 | E2E | P0 | ⏳ Pending |
| AC-TSK-001-10 | FR-TSK-001 | E2E | P0 | ⏳ Pending |
| AC-TSK-001-11 | FR-TSK-001 | E2E | P1 | ⏳ Pending |
| AC-TSK-001-12 | FR-TSK-001 | Unit | P0 | ⏳ Pending |
| AC-TSK-001-13 | FR-TSK-001 | Integration | P1 | ⏳ Pending |
| AC-TSK-001-14 | FR-TSK-001 | Integration | P2 | ⏳ Pending |
| AC-TSK-001-15 | FR-TSK-001 | E2E | P0 | ⏳ Pending |
| AC-TSK-001-16 | FR-TSK-001 | Integration | P0 | ⏳ Pending |
| AC-TSK-001-17 | FR-TSK-001 | Integration | P1 | ⏳ Pending |
| AC-TSK-001-18 | FR-TSK-001 | E2E | P1 | ⏳ Pending |
| AC-TSK-001-19 | FR-TSK-001 | E2E | P2 | ⏳ Pending |
| AC-TSK-001-20 | FR-TSK-001 | Integration | P2 | ⏳ Pending |

---

## 8. 테스트 실행 전략

### Phase 1: Unit Tests (AC-001 ~ AC-005, AC-012)
**Focus**: 입력 검증, 데이터 모델, 상태 관리

**Coverage Goal**: 70%

**Test Framework**: pytest

**Example**:
```python
def test_create_task_with_valid_title():
    task = Task.create(title="회의 자료 준비")
    assert task.title == "회의 자료 준비"
    assert task.completed is False
    assert task.id is not None
```

---

### Phase 2: Integration Tests (AC-006 ~ AC-008, AC-013, AC-014, AC-016, AC-017, AC-020)
**Focus**: 컴포넌트 간 상호작용, 파일 I/O, 필터링 로직

**Coverage Goal**: 20%

**Test Framework**: pytest with fixtures

**Example**:
```python
def test_update_task_saves_to_file(task_manager, tmp_path):
    task = task_manager.create_task("원본 제목")
    task_manager.update_task(task.id, title="수정된 제목")

    # Reload from file
    reloaded = TaskManager.load_from_file(tmp_path / "tasks.json")
    assert reloaded.get_task(task.id).title == "수정된 제목"
```

---

### Phase 3: E2E Tests (AC-009 ~ AC-011, AC-015, AC-018, AC-019)
**Focus**: 사용자 시나리오, UI 상호작용, 전체 워크플로우

**Coverage Goal**: 10%

**Test Framework**: pytest-qt (PyQt5 UI testing)

**Example**:
```python
def test_delete_with_confirmation(qtbot, app_window):
    # Create task
    qtbot.mouseClick(app_window.add_button, Qt.LeftButton)
    # ... fill dialog ...

    # Right-click and delete
    task_item = app_window.task_list.item(0)
    qtbot.mouseClick(task_item, Qt.RightButton)
    qtbot.mouseClick(app_window.context_menu.delete_action, Qt.LeftButton)

    # Verify confirmation dialog
    assert app_window.confirm_dialog.isVisible()

    # Confirm deletion
    qtbot.mouseClick(app_window.confirm_dialog.ok_button, Qt.LeftButton)

    # Verify task removed
    assert app_window.task_list.count() == 0
```

---

## 9. 테스트 환경 설정

### Required Dependencies
```txt
pytest==7.4.3
pytest-cov==4.1.0
pytest-qt==4.2.0
PyQt5==5.15.9
```

### Test Configuration (`pytest.ini`)
```ini
[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    -v
    --cov=app
    --cov-report=html
    --cov-report=term-missing
    --cov-fail-under=80
```

### Directory Structure
```
tests/
├── unit/
│   ├── test_task_model.py
│   ├── test_validation.py
│   └── test_state_management.py
├── integration/
│   ├── test_file_operations.py
│   ├── test_filtering.py
│   └── test_auto_save.py
└── e2e/
    ├── test_user_workflows.py
    ├── test_ui_interactions.py
    └── test_data_persistence.py
```

---

## 10. 성공 기준

### Test Execution
- [ ] 모든 P0 테스트 100% 통과
- [ ] 모든 P1 테스트 95% 이상 통과
- [ ] 전체 테스트 커버리지 80% 이상

### Functional Requirements
- [ ] 모든 FR 요구사항이 최소 1개 이상의 AC에 매핑됨
- [ ] 모든 AC가 Given-When-Then 형식으로 작성됨
- [ ] 모든 AC에 실행 가능한 테스트 데이터 포함

### Non-Functional Requirements
- [ ] 테스트 실행 시간 < 30초 (unit + integration)
- [ ] E2E 테스트 실행 시간 < 2분
- [ ] CI/CD 파이프라인 통합 완료

---

## 11. 다음 단계

1. **testing-agent** 실행: 이 AC 문서를 기반으로 pytest 테스트 코드 생성
2. **TDD Red Phase**: 모든 테스트 실행 → 실패 확인
3. **implementation-agent** 실행: 테스트를 통과시키는 최소 구현
4. **TDD Green Phase**: 모든 테스트 실행 → 성공 확인
5. **verification-agent** 실행: FR ↔ Code ↔ Test 트레이서빌리티 검증

---

**문서 상태**: ✅ 완료
**다음 에이전트**: testing-agent → implementation-agent → verification-agent
**생성일**: 2025-01-13
**최종 수정일**: 2025-01-13
